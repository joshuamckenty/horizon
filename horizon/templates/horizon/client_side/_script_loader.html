<script type="text/javascript" charset="utf-8">
  /*
    Added so that we can append Horizon scoped JS events to
    the DOM load events without running in to the "horizon"
    name-space not currently being defined since we load the
    scripts at the bottom of the page.
  */
  var addHorizonLoadEvent = function(func) {
    var old_onload = window.onload;

    if (typeof window.onload != 'function') {
      window.onload = func;
    } else {
      window.onload = function() {
        old_onload();
        func();
      }
    }
  }
</script>

{% if HORIZON_CONFIG.feedback_url %}
<!-- UserVoice JavaScript SDK (only needed once on a page) -->
<script>(function(){
    var uv=document.createElement('script');
    uv.type='text/javascript';
    uv.async=true;
    uv.src='{{ HORIZON_CONFIG.feedback_url }}';
    var s=document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(uv,s);
})()</script>

<!-- A tab to launch the Classic Widget -->
<script>
UserVoice = window.UserVoice || [];
UserVoice.push(['showTab', 'classic_widget', {
  mode: 'feedback',
  primary_color: '#2e3438',
  link_color: '#007dbf',
  forum_id: 172128,
  feedback_tab_name: 'Beta Feedback',
  tab_label: 'Beta Feedback',
  tab_color: '#4ec5cb',
  tab_position: 'bottom-right',
  tab_inverted: false
}]);
</script>
{% endif %}